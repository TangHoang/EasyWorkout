import{e as x,l as f}from"./listItem-d90cb1c1.js";import{_ as m,u as w,r as d,o as i,c as r,w as _,v as D,a as l,F as u,b as y,d as h,e as E,f as I}from"./index-449c83d0.js";const k={name:"LogView",components:{exerciseLog:x,listItem:f},setup(){return{trainingData:w()}},data(){return{exerciseList:[],searchInput:"",showInputField:!1,newExercise:"",showLog:!1,currentExercise:""}},methods:{showLogPage(e){this.currentExercise=e,this.showLog=!0},deleteLog(e){let t=this.exerciseList.findIndex(a=>a==e),c=this.trainingData.currentExercises.findIndex(a=>a.name==e);this.trainingData.currentExercises.splice(c,1),this.exerciseList.splice(t,1),delete this.trainingData.data[e]}},computed:{filteredExercises(){const e=this.searchInput.toLocaleLowerCase();return this.exerciseList.filter(t=>t.toLocaleLowerCase().includes(e))}},props:{username:{type:String,required:!1},isLoggedin:{type:Boolean,required:!1}},mounted(){this.trainingData.data==null?this.exerciseList=[]:this.exerciseList=Object.keys(this.trainingData.data)},beforeUpdate(){this.trainingData.data==null?this.exerciseList=[]:this.exerciseList=Object.keys(this.trainingData.data)}},v={key:0,class:"log-container"},S=l("h2",{class:"log-header"}," Logs ",-1),V={class:"exercise-item-container"};function B(e,t,c,a,n,o){const g=d("listItem"),p=d("exerciseLog");return i(),r(u,null,[n.showLog==!1?(i(),r("div",v,[S,_(l("input",{type:"text",class:"search-input","onUpdate:modelValue":t[0]||(t[0]=s=>n.searchInput=s),placeholder:"Search"},null,512),[[D,n.searchInput]]),l("div",V,[(i(!0),r(u,null,y(o.filteredExercises,s=>(i(),r("div",{key:s,class:"exercise-item",onClick:t[1]||(t[1]=(...L)=>e.handleSelection&&e.handleSelection(...L))},[I(g,{title:s,onDeleteEntry:o.deleteLog,onShowDetailPage:o.showLogPage},null,8,["title","onDeleteEntry","onShowDetailPage"])]))),128))])])):h("",!0),n.showLog?(i(),E(p,{key:1,fromHistory:!1,logTitle:this.currentExercise,data:this.trainingData.data[this.currentExercise],onBack:t[2]||(t[2]=s=>this.showLog=!1)},null,8,["logTitle","data"])):h("",!0)],64)}const P=m(k,[["render",B]]);export{P as default};
