import{_ as p,u as m,r as h,o as i,c as a,w as _,v as f,a as r,F as c,b as g,d,e as D,f as w}from"./index-a3f345e7.js";import{e as L,l as H}from"./listItem-0b840f12.js";const v={name:"HistoryView",components:{exerciseLog:L,listItem:H},setup(){return{trainingData:m()}},data(){return{showHistory:!1,currentDay:"",searchInput:"",dateList:[]}},methods:{showHistoryPage(t){this.currentDay=t,this.showHistory=!0},deleteHistory(t){delete this.trainingData.history[t];let e=this.dateList.findIndex(n=>n.name==t);this.dateList.splice(e,1)}},computed:{filteredDates(){const t=this.searchInput.toLocaleLowerCase();return this.dateList.filter(e=>e.toLocaleLowerCase().includes(t))}},mounted(){console.log(this.trainingData.history),this.trainingData.history==null?this.dateList=[]:this.dateList=Object.keys(this.trainingData.history)},beforeUpdate(){this.trainingData.history==null?this.dateList=[]:this.dateList=Object.keys(this.trainingData.history)}},x={key:0,class:"history-container"},I=r("header",{class:"history-header"},[r("h2",{class:"history-title"},"History")],-1),k={class:"history-wrapper"},V={class:"history-item"};function B(t,e,n,b,l,o){const u=h("listItem"),y=h("exerciseLog");return i(),a(c,null,[this.showHistory==!1?(i(),a("div",x,[I,_(r("input",{type:"text",class:"search-input","onUpdate:modelValue":e[0]||(e[0]=s=>l.searchInput=s),placeholder:"Search"},null,512),[[f,l.searchInput]]),r("div",k,[(i(!0),a(c,null,g(o.filteredDates,s=>(i(),a("div",V,[w(u,{class:"list-item",title:s,onShowDetailPage:o.showHistoryPage,onDeleteEntry:C=>o.deleteHistory(s)},null,8,["title","onShowDetailPage","onDeleteEntry"])]))),256))])])):d("",!0),this.showHistory?(i(),D(y,{key:1,fromHistory:!0,logTitle:this.currentDay,data:this.trainingData.history[this.currentDay],onBack:e[1]||(e[1]=s=>this.showHistory=!1)},null,8,["logTitle","data"])):d("",!0)],64)}const E=p(v,[["render",B]]);export{E as default};
