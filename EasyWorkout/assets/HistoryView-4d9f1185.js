import{_ as p,u as m,r as c,o as i,c as r,w as _,v as g,a as o,F as h,b as D,d,e as f,f as w}from"./index-577baf73.js";import{e as L,l as H}from"./listItem-72a8a784.js";const v={name:"HistoryView",components:{exerciseLog:L,listItem:H},setup(){return{trainingData:m()}},data(){return{showHistory:!1,currentDay:"",searchInput:"",dateList:[]}},methods:{showHistoryPage(t){this.currentDay=t,this.showHistory=!0},deleteHistory(t){delete this.trainingData.history[t];let e=this.dateList.findIndex(n=>n.name==t);this.dateList.splice(e,1)}},computed:{filteredDates(){const t=this.searchInput.toLocaleLowerCase();return this.dateList.filter(e=>e.toLocaleLowerCase().includes(t))}},mounted(){this.dateList=Object.keys(this.trainingData.history),console.log(this.dateList)},beforeUpdate(){this.dateList=Object.keys(this.trainingData.history)}},x={key:0,class:"history-container"},I=o("header",{class:"history-header"},[o("h2",{class:"history-title"},"History")],-1),k={class:"history-wrapper"},V={class:"history-item"};function B(t,e,n,b,l,a){const u=c("listItem"),y=c("exerciseLog");return i(),r(h,null,[this.showHistory==!1?(i(),r("div",x,[I,_(o("input",{type:"text",class:"search-input","onUpdate:modelValue":e[0]||(e[0]=s=>l.searchInput=s),placeholder:"Search"},null,512),[[g,l.searchInput]]),o("div",k,[(i(!0),r(h,null,D(a.filteredDates,s=>(i(),r("div",V,[w(u,{class:"list-item",title:s,onShowDetailPage:a.showHistoryPage,onDeleteEntry:C=>a.deleteHistory(s)},null,8,["title","onShowDetailPage","onDeleteEntry"])]))),256))])])):d("",!0),this.showHistory?(i(),f(y,{key:1,fromHistory:!0,logTitle:this.currentDay,data:this.trainingData.history[this.currentDay],onBack:e[1]||(e[1]=s=>this.showHistory=!1)},null,8,["logTitle","data"])):d("",!0)],64)}const E=p(v,[["render",B]]);export{E as default};
