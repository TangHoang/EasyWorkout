import{e as L,l as m}from"./listItem-28b1ef06.js";import{_ as f,u as w,r as d,o as i,c as n,w as D,v as _,a as o,F as h,b as y,d as u,e as E,f as I}from"./index-e6ffd3fe.js";const k={name:"LogView",components:{exerciseLog:L,listItem:m},setup(){return{trainingData:w()}},data(){return{exerciseList:[],searchInput:"",showInputField:!1,newExercise:"",showLog:!1,currentExercise:"",exerciseData:this.trainingData.data}},methods:{showLogPage(e){this.currentExercise=e,this.showLog=!0},deleteLog(e){let t=this.exerciseList.findIndex(r=>r==e),c=this.trainingData.currentExercises.findIndex(r=>r.name==e);this.trainingData.currentExercises.splice(c,1),this.exerciseList.splice(t,1),delete this.trainingData.data[e]}},computed:{filteredExercises(){const e=this.searchInput.toLocaleLowerCase();return this.exerciseList.filter(t=>t.toLocaleLowerCase().includes(e))}},props:{username:{type:String,required:!1},isLoggedin:{type:Boolean,required:!1}},mounted(){this.exerciseData==null?this.exerciseList=[]:this.exerciseList=Object.keys(this.exerciseData)},beforeUpdate(){this.exerciseData==null?this.exerciseList=[]:this.exerciseList=Object.keys(this.exerciseData)}},v={key:0},S=o("header",{class:"log-header"},[o("h2",{class:"log-title"},"Logs")],-1),V={class:"exercise-item-container"};function B(e,t,c,r,a,l){const g=d("listItem"),x=d("exerciseLog");return i(),n(h,null,[a.showLog==!1?(i(),n("body",v,[S,D(o("input",{type:"text",class:"search-input","onUpdate:modelValue":t[0]||(t[0]=s=>a.searchInput=s),placeholder:"Search"},null,512),[[_,a.searchInput]]),o("div",V,[(i(!0),n(h,null,y(l.filteredExercises,s=>(i(),n("div",{key:s,class:"exercise-item",onClick:t[1]||(t[1]=(...p)=>e.handleSelection&&e.handleSelection(...p))},[I(g,{class:"list-item",title:s,onDeleteEntry:l.deleteLog,onShowDetailPage:l.showLogPage},null,8,["title","onDeleteEntry","onShowDetailPage"])]))),128))])])):u("",!0),a.showLog?(i(),E(x,{key:1,fromHistory:!1,logTitle:this.currentExercise,data:this.exerciseData[this.currentExercise],onBack:t[2]||(t[2]=s=>this.showLog=!1)},null,8,["logTitle","data"])):u("",!0)],64)}const P=f(k,[["render",B]]);export{P as default};
